@model CuaHangQuanAo.Models.Cart
<style>
    .btn-custom {
        background-color: #000;
        color: #fff;
        border: none;
        transition: all 0.3s ease;
    }

        .btn-custom:hover {
            background-color: #ffc107;
            color: #000;
        }
</style>
@if (!Model.Items.Any())
{
    <div class="d-flex flex-column align-items-center justify-content-center py-5">
        <img src="~/Images/demo/empty.png"
             alt="Empty Cart" width="150" class="mb-4 opacity-75" />

        <h4 class="text-muted mb-3">Giỏ hàng của bạn đang trống</h4>

        <a href="/" class="btn btn-lg btn-custom shadow-sm px-4">
            <i class="bi bi-bag-plus"></i> Bắt đầu mua sắm
        </a>
    </div>
}
else
{
    <div class="container mt-4">
        <h2 class="mb-4"><i class="bi bi-cart4"></i> Giỏ hàng của bạn</h2>

        <div class="card shadow-lg border-0 rounded-3">
            <div class="card-body">
                <table class="table align-middle table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>Ảnh</th>
                            <th>Tên sản phẩm</th>
                            <th>Giá</th>
                            <th>Số lượng</th>
                            <th>Tổng</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Items)
                        {
                            <tr>
                                <td>
                                    class="img-thumbnail rounded" width="80" />
                                </td>
                                <td>
                                    <strong>@item.ItemsName</strong><br />
                                    <span class="badge bg-secondary">ID: @item.ItemsID</span>
                                </td>
                                <td class="fw-bold text-danger">@((item.SellPrice ?? 0).ToString("N0")) đ</td>
                                <td>
                                    <span class="badge bg-info text-dark fs-6">@item.Quantity</span>
                                </td>
                                <td class="fw-bold text-success">
                                    @(((item.SellPrice ?? 0) * (item.Quantity ?? 0)).ToString("N0")) đ
                                </td>
                                <td>
                                    <a asp-action="Remove" asp-route-id="@item.ItemsID"
                                       class="btn btn-sm btn-outline-danger">
                                        <i class="bi bi-trash"></i>
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

                <div class="d-flex justify-content-between align-items-center mt-4">
                    <h4 class="fw-bold text-primary">
                        Tổng tiền: @(Model.Items.Sum(x => (x.SellPrice ?? 0) * (x.Quantity ?? 0)).ToString("N0")) đ
                    </h4>
                    <a asp-action="Checkout" class="btn btn-lg btn-custom px-4">
                        <i class="bi bi-credit-card"></i> Thanh toán
                    </a>
                </div>
            </div>
        </div>
    </div>
}