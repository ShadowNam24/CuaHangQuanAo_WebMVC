@using CuaHangQuanAo.Entities
@model CuaHangQuanAo.Entities.Order
@{
    ViewData["Title"] = $"Chi tiết đơn hàng #{Model.OrdersId}";
}

<style>
    /* Giống style từ Orders.cshtml */
    .order-detail-container {
        max-width: 900px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    .detail-card {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .section-title {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #f1f1f1;
    }
</style>

<div class="order-detail-container">
    <div class="page-header mb-4">
        <a asp-controller="Profile" asp-action="Orders" class="btn btn-primary">
            <i class="bi bi-bag-check me-2"></i>Xem đơn hàng của tôi
        </a>
        <h1>Chi tiết đơn hàng #@Model.OrdersId</h1>
    </div>

    <div class="detail-card">
        <div class="section-title">Thông tin đơn hàng</div>
        <div class="row mb-3">
            <div class="col-md-6">
                <strong>Ngày đặt:</strong> @Model.OrderDate?.ToString("dd/MM/yyyy")
            </div>
            <div class="col-md-6">
                <strong>Trạng thái:</strong> <span class="order-status">@Model.Status</span>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <strong>Người nhận:</strong> @Model.CustomerName
            </div>
            <div class="col-md-6">
                <strong>Số điện thoại:</strong> @Model.PhoneNumber
            </div>
        </div>
        <div class="mb-3">
            <strong>Địa chỉ giao hàng:</strong> @Model.ShippingAddress
        </div>

        <div class="section-title mt-4">Sản phẩm</div>
        <table class="table">
            <thead>
                <tr>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.OrdersDetails != null)
                {
                    @foreach (var item in Model.OrdersDetails)
                    {
                        <tr>
                            <td>@item.Items?.ItemsName</td>
                            <td>@item.Quantity</td>
                            <td>@item.Price?.ToString("N0") đ</td>
                            <td>@((item.Price * item.Quantity)?.ToString("N0")) đ</td>
                        </tr>
                    }
                }
            </tbody>
        </table>

        <div class="text-end mt-4">
            <h4>Tổng cộng: <span class="text-primary">@Model.Total?.ToString("N0") đ</span></h4>
        </div>
    </div>
</div>